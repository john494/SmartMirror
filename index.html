<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Smart Mirror">
    <meta name="author" content="Team: Pied Piper">
    <title>Smart Mirror Home</title>

    <!-- Custom CSS -->
    <link href="css/main.css" rel="stylesheet">
    <!-- Materialize CSS -->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
    <!-- Import Weather Icons -->
    <link rel="stylesheet" href="css/weather-icons.min.css" />
    <link rel="stylesheet" href="css/weather-icons-wind.min.css" />
    <!-- Weather Widget CSS -->
    <link rel="stylesheet" href="widgets/weather/style.css" />
    <!--Import Google Icon Font-->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- To get rid of 'require jquery module' error -->
    <script>
        window.nodeRequire = require;
        delete window.require;
        delete window.exports;
        delete window.module;
    </script>
    <script window.$ = window.jQuery = require('js/jquery-2.1.1.min.js');></script>
    <script src="jquery.js"></script>

</head>

<body>
    <div class="container-fluid">

        <!-- Row 0 -->
        <div class="row">
            <div class="col s3 white-text" id="N1">
                <div id="clock" class="thin">
                    <div id="time"></div>
                    <!--<p id="time">9:25<span style="font-size:25px;">PM</span></p>-->
                    <p id="when"></p>
                </div>
            </div>
            <div class="col s9 white-text" id="N2">
                <div class="row" id="news">
                    <div class="col s3 Vcenter vertical-divider headline-padding">
                        <p>House lawmakers heap blistering criticism on Wells Fargo CEO</p>
                    </div>
                    <div class="col s3 Vcenter vertical-divider headline-padding">
                        <p>Clinton struggling to win over the young voters she needs</p>
                    </div>
                    <div class="col s3 Vcenter vertical-divider headline-padding">
                        <p>Americans need short memory in the Ryder Cup</p>
                    </div>
                    <div class="col s3 Vcenter vertical-divider headline-padding">
                        <p>Obama signs short-term bill to fund government past election</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Row 1 -->
        <div class="row">
            <div class="col s3 white-text" id="L1">
                <div id="weather">
                    <section data-id="widget37" data-name="weather" data-size="variable" class="widget weather variable">
                    <div class="handle"></div>
                    <!-- <div class="settings">
                        <svg width="16" height="16" viewBox="0 0 1792 1792" fill="currentColor">
                            <path d="M448 1472q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm644-420l-682 682q-37 37-90 37-52 0-91-37l-106-108q-38-36-38-90 0-53 38-91l681-681q39 98 114.5 173.5t173.5 114.5zm634-435q0 39-23 106-47 134-164.5 217.5t-258.5 83.5q-185 0-316.5-131.5t-131.5-316.5 131.5-316.5 316.5-131.5q58 0 121.5 16.5t107.5 46.5q16 11 16 28t-16 28l-293 169v224l193 107q5-3 79-48.5t135.5-81 70.5-35.5q15 0 23.5 10t8.5 25z"></path>
                        </svg>
                    </div> -->
                    <div class="content">
                        <div class="location" data-index="0">
                            <h6 class="header">Buffalo, NY</h6>
                            <div class="current">
                                <div class="cond partlycloudy"></div>
                                <span class="temp" id="temp">
                                    <sup class="">
                                        <span data-units="imperial" class="active" style="font-size:55%">F</span>
                                    </sup>
                                </span>
                                <div class="details">
                                    <div class="status" id="description"></div>
                                    <div>Precip: <span id="precipitation">Precip</span></div>
                                </div>
                            </div>

                            <script>
                              var key = "85f6ad9b4d64ca03f1e00f6775de0259";

                              // Temporary values, make these dynamic later
                              var buff_lat = "42.886447";
                              var buff_lon = "-78.878369";

                              var current;

                              function weather() {
                                $.get("https://api.darksky.net/forecast/" + key + "/" + buff_lat + "," + buff_lon, function(data) {
                                  current = data['currently'];
                                  hourly = data['hourly'];
                                  document.getElementById('temp').innerHTML = Math.round(current['apparentTemperature']);
                                  document.getElementById('description').innerHTML = hourly['summary'];
                                  document.getElementById('precipitation').innerHTML = (current['precipProbability'] * 100) + "%";
                                });
                              }
                              weather(current);

                            </script>

                            <!-- <div class="forecast daily" tabindex="-1">
                                <button type="button" class="material fab prev" data-direction="left" disabled=""></button>
                                <div class="items">
                                    <div class="pull"></div>
                                    <div class="item" data-index="0">
                                        <div class="period">Sun</div>
                                        <div class="cond partlycloudy" title="Partly Sunny"></div>
                                        <span class="high">56°</span> / <span class="low">40°</span>
                                    </div>
                                    <div class="item" data-index="1">
                                        <div class="period">Mon</div>
                                        <div class="cond sunny" title="Sunny"></div>
                                        <span class="high">55°</span> / <span class="low">39°</span>
                                    </div>
                                    <div class="item" data-index="2">
                                        <div class="period">Tue</div>
                                        <div class="cond partlycloudy" title="Mostly Cloudy"></div>
                                        <span class="high">64°</span> / <span class="low">50°</span>
                                    </div>
                                    <div class="item" data-index="3">
                                        <div class="period">Wed</div>
                                        <div class="cond sunny" title="Sunny"></div>
                                        <span class="high">71°</span> / <span class="low">55°</span>
                                    </div>
                                    <div class="item" data-index="4">
                                        <div class="period">Thu</div>
                                        <div class="cond showers" title="Rain Showers"></div>
                                        <span class="high">63°</span> / <span class="low">41°</span>
                                    </div>
                                </div>
                                <button type="button" class="material fab next" data-direction="right"></button>
                            </div> -->
                        </div>
                    </div>
                    <div class="resize"></div>
                </section>
                </div>
            </div>
            <div class="col s3 offset-s6" id="R1">
                <div id="calendar">
                    <h5 class="Vcenter white-text">Calendar</h5>
                    <div class="row">
                        <div class="col s12 white-text">
                            <table class="centered">
                            <thead>
                                <tr>
                                    <th data-field="cTime">Time</th>
                                    <th data-field="eventList">Event</th>
                                    <th data-field="cLocation">Place</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>12 AM</td>
                                    <td>CSE 489</td>
                                    <td>NSC 210</td>
                                </tr>
                                <tr>
                                    <td>1 PM</td>
                                    <td>CSE 410</td>
                                    <td>Norton 213</td>
                                </tr>
                                <tr>
                                    <td>2 PM</td>
                                    <td>CSE 442</td>
                                    <td>O'Brian 119</td>
                                </tr>
                                <tr>
                                    <td>3 PM</td>
                                    <td>CSE 468</td>
                                    <td>Baldy 114</td>
                                </tr>
                            </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Row 2 -->
        <div class="row">
            <div class="col s3 white-text" id="L2">
                <div class="undefined">

                </div>
            </div>
            <div class="col s3 offset-s6" id="R2">
                <div class="undefined">

                </div>
            </div>
        </div>

        <!-- Row 3 -->
        <div class="row">
            <div class="col s3 white-text" id="L3">
                <div class="undefined">

                </div>
            </div>
            <div class="col s3 offset-s6" id="R3">
                <div class="undefined">

                </div>
            </div>
        </div>
    </div>
</body>

    <!-- JS -->
    <script src="js/date.js"></script>
    <script><!-- Time -->
        function startClock() {
            var d = new Date()
            var c = d.toString("h:mm tt");
            document.getElementById('time').innerHTML = c;
            var t = setTimeout(startClock, 500);
        };
        startClock();
    </script>
    <script><!-- Day, Month, Year -->
        var mydate = new Date()
        var year = mydate.getYear()
        if (year < 1000)
            year+=1900
        var day   = mydate.getDay()
        var month = mydate.getMonth()
        var daym  = mydate.getDate()
        if (daym < 10)
            daym = "0" + daym
        var dayarray = new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday")
        var montharray = new Array("January","February","March","April","May","June","July","August","September","October","November","December")
        document.getElementById('when').innerHTML = "<p id='day'><b>"+dayarray[day]+"</b></p><p id='date'>"+montharray[month]+" "+daym+", "+year+"</p>";
    </script>
    <script src="js/materialize.min.js"></script>
    <!-- <script data-main="widgets/weather/view" src="http://requirejs.org/docs/release/2.3.2/comments/require.js"></script> -->

</html>
